{%- comment -%}
card-thumb.html â€” reliable tile with overlay text or placeholder.

Expected inputs (from {% include %}):
  url, title, dek, location, alt, img_src
If img_src is empty or missing, we render a placeholder tile.
{%- endcomment -%}

{%- assign href      = include.url | relative_url -%}
{%- assign alt_text  = include.alt | default: include.title | escape -%}
{%- assign img_final = include.img_src | default: '' -%}

<a href="{{ href }}" class="card-thumb">
  <figure class="card-thumb__media">

    {% if img_final != '' %}
      <img
        src="{{ img_final | relative_url }}"
        alt="{{ alt_text }}"
        loading="lazy"
        width="960"
        height="600"
      />
    {% else %}
      <div class="card-thumb__placeholder" aria-hidden="true">
        <span>Image coming soon</span>
      </div>
    {% endif %}

    {% if include.location %}
      <figcaption class="card-thumb__label">{{ include.location }}</figcaption>
    {% endif %}

    <figcaption class="card-thumb__overlay">
      <h3 class="card-thumb__title">{{ include.title }}</h3>
      {% if include.dek %}
        <p class="card-thumb__dek">{{ include.dek }}</p>
      {% endif %}
    </figcaption>
  </figure>
</a>
